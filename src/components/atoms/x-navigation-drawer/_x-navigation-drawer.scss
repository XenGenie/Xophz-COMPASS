@use "../../../styles/mixins";
@use "../../../styles/variables" as *;

.x-navigation-drawer {
  &.v-navigation-drawer {
    // Glassmorphism background
    background: rgba(15, 23, 42, 0.85) !important;
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);
    border-right: 1px solid rgba(255, 255, 255, 0.08);
    
    // Overflow handling
    overflow-y: auto !important;
    overflow-x: hidden !important;
    
    // Width constraints
    width: auto !important;
    max-width: 280px !important;
    
    // Smooth transitions
    transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1),
                width 0.3s cubic-bezier(0.4, 0, 0.2, 1),
                opacity 0.3s ease !important;
    
    // List styling within drawer
    .v-list {
      background: transparent;
      
      .v-list-item {
        margin: 4px 8px;
        border-radius: 8px;
        transition: background 0.2s ease, 
                    transform 0.15s ease;
        
        &:hover {
          background: rgba(255, 255, 255, 0.08);
          transform: translateX(2px);
        }
        
        &--active {
          background: rgba(var(--v-theme-primary), 0.15);
          
          .v-list-item-title {
            color: rgb(var(--v-theme-primary));
          }
        }
      }
      
      .v-list-item-title {
        font-weight: 500;
        font-size: 0.9rem;
      }
      
      .v-list-item-subtitle {
        font-size: 0.75rem;
        opacity: 0.7;
      }
    }
    
    // Icon styling
    .v-icon {
      opacity: 0.9;
    }
    
    // Divider styling
    .v-divider {
      border-color: rgba(255, 255, 255, 0.08);
      margin: 8px 16px;
    }
  }
  
  // Rail mode adjustments
  &.v-navigation-drawer--rail {
    max-width: 56px !important;
    
    .v-list-item {
      justify-content: center;
      padding: 8px !important;
    }
  }
}

// WordPress responsive handling
body.wp-responsive-open {
  .x-navigation-drawer.v-navigation-drawer--close {
    opacity: 0;
    z-index: 0;
  }
}

// Main navigation - let Vuetify's layout handle positioning natively
.x-navigation-drawer.main-nav {
  z-index: 6 !important;
}
