import{p as s,q as d}from"./index.js";const i=()=>({loadLog(e){return s.put("xp_load_log",e)},levelUp(e){return s.put("level_up",e)},completeAchievement(e){return s.put("xp_complete_achievement",e)},getUser(e){return s.get("xp_get_user",e)},listAchievements(e){return s.get("list_achievements",e)},listAccessories(e){return s.get("list_accessories",e)},tallyAbilityPoints(e){return s.get("tally_ability_points",e)},listAbilities(e){return s.get("list_abilities",e)},listBillboardChips(e){return s.get("list_billboard_chips",e)},listLeaderboard(e){return s.get("list_leaderboard",e)},listCategories(e){return s.get("list_categories",e)},listAchievement(e){return s.get("list_achievement",e)},listPlayers(e){return s.get("xp_list_players",e)},startPlayer(e){return s.put("xp_start_player",e)},addNewCategory(e){return s.put("xp_add_new_category",e)}}),u=d("xp",{state:()=>({abilities:[{title:"My Ability",ap_to_unlock:4,repeats_every:"week"},{title:"My Ability",ap_to_unlock:4,repeats_every:"week"}],accessories:[{title:"item 1",gp_cost:400},{title:"item 2",gp_cost:400}],achievement:{title:"Empty Trash",repeat_on:[],xp:150,ap:1,gp:15},achievements:[{title:"Empty Trash",repeat_on:[],xp:150,ap:1,gp:15},{title:"Brushteeth",repeat_on:[],xp:100,ap:1,gp:10},{title:"Make Bed",repeat_on:[],xp:50,ap:1,gp:25}],achievementsUnfiltered:[],billboard:{chips:[]},categories:[{name:"Self Improvement",description:"Cleanliness is next to godliness",count:100,slug:"house-keeping"},{name:"Teamwork",description:"Cleanliness is next to godliness",count:100,slug:"house-keeping"},{name:"Hygiene",description:"Cleanliness is next to godliness",count:100,slug:"house-keeping"},{name:"House Keeping",description:"Cleanliness is next to godliness",count:9,slug:"house-keeping"}],date:new Date,dialog:!1,log:{},players:[{name:"Nightlynn",age:12,xp:1800,avatar:""},{name:"Khronus",age:8,xp:1800,avatar:""},{name:"Gaia",age:5,xp:1800,ap:24,avatar:""},{name:"Ronan",age:4,xp:1800,ap:24,avatar:""}],user:{xp:0,ap:0,gp:0},soundFx:{click:"/wp-content/plugins/xophz-compass-xp/assets/audio/click.mp3",confirm:"/wp-content/plugins/xophz-compass-xp/assets/audio/confirm.wav",cancel:"/wp-content/plugins/xophz-compass-xp/assets/audio/cancel2.wav",cursorX:"http://starmen.net/mother2/soundfx/curshoriz.wav",cursorY:"http://starmen.net/mother2/soundfx/cursverti.wav",cursor:"http://starmen.net/mother2/soundfx/curshoriz.wav",error:"http://starmen.net/mother2/soundfx/error.wav",text:"http://starmen.net/mother2/soundfx/text.wav",item:{give:"/wp-content/plugins/xophz-compass-xp/assets/audio/Alarm.aif",take:"/wp-content/plugins/xophz-compass-xp/assets/audio/FX01.aif",all:"http://starmen.net/mother2/soundfx/buy2.wav"},question:"/wp-content/plugins/xophz-compass-xp/assets/audio/question.wav",points:"/wp-content/plugins/xophz-compass-xp/assets/audio/points.mp3",complete:"/wp-content/plugins/xophz-compass-xp/assets/audio/complete.mp3",levelUp:"http://starmen.net/mother2/soundfx/statsup.wav",levelDown:"http://starmen.net/mother2/soundfx/statsdown.wav",burp:"/wp-content/plugins/xophz-compass-xp/assets/audio/FX01.aif"},isRoutesNavActive:!1,tally:{ap:{1:20,7:50,30:300,60:0,120:0,180:0,365:0,366:0}},error:null,completed:[],abilitiesUnfiltered:[]}),actions:{startPlayer(e){i().startPlayer({birthdate:e}).then(t=>{this.getUser()}).catch(this.handleErrors)},loadPlayers(){i().listPlayers().then(e=>{this.players=e.data.players}).catch(this.handleErrors)},tallyAbilityPoints(){i().tallyAbilityPoints().then(e=>{this.tally.ap=e.data.ability_points}).catch(this.handleErrors)},searchAchievements(e){!this.achievementsUnfiltered.length&&this.achievements.length&&(this.achievementsUnfiltered=this.achievements);const t=n=>{const h=n.title.toLowerCase(),o=e.text?e.text.toLowerCase():"",l=a=>a*1,p=(a,c)=>l(a)>=l(c),r=a=>p(n[a],e[a]);return(o===""||h.indexOf(o)!==-1)&&r("ap")&&r("gp")&&r("xp")};this.achievements=this.achievementsUnfiltered.filter(t)},loadLog(){i().loadLog().then(e=>{this.log=e.data.log}).catch(this.handleErrors)},levelUp(e){i().levelUp({level:e}).then(()=>{this.user.level=e}).catch(this.handleErrors)},setUserPoints(e){this.user=e},rewardPointsToUser(e){i().completeAchievement(e).then(t=>{this.getUser(),this.listAchievements()}).catch(this.handleErrors)},getUser(e){i().getUser(e).then(t=>{this.user=t.data,this.paintBillboardChips()}).catch(this.handleErrors)},completeAchievement(e){i().completeAchievement(e).then(t=>{}).catch(this.handleErrors)},setAchievement(e){this.achievement=e},setDialog(e){this.dialog=e},setDate(e){this.date=e},listAccessories(e){i().listAccessories(e).then(t=>{this.accessories=t.data.accessories}).catch(this.handleErrors)},listAbilities(e){i().listAbilities(e).then(t=>{this.abilities=t.data.abilities,this.abilitiesUnfiltered=this.achievements}).catch(this.handleErrors)},listAchievements(e){i().listAchievements(e).then(t=>{this.achievements=t.data.achievements,this.completed=t.data.completed,this.achievementsUnfiltered=this.achievements}).catch(this.handleErrors)},paintBillboardChips(e){i().listBillboardChips(e).then(t=>{this.billboard.chips=t.data.chips}).catch(this.handleErrors)},addNewCategory(e){i().addNewCategory(e).then(t=>{this.categories=t.data.categories,this.listCategories()}).catch(this.handleErrors)},listCategories(){i().listCategories().then(e=>{this.categories=e.data.categories}).catch(this.handleErrors)},setNavToggled(e){this.isRoutesNavActive=e},handleErrors(e){this.error=e&&e.error?e.error:e}}});export{u};
